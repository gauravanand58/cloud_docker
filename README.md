# Extracting Gutenberg books and authors [http://www.gutenberg.org/wiki/Gutenberg:Offline_Catalogs] by Cloud Application using Docker

The front-end of the application requires a simple web page consisting of a keyword search option, a note submission option, and a note retrieval option. For this, I can develop the front-end webpage using Python Flask’s templates engine. It gives a convenient way to link front-end webpage with back-end application logic. The front-end application will enable users to search for a book title or author name using text input field and a button. In response, the users will get the results displayed in the form of a table where first column will represent the book title and the second column will represent the author name. If the search query fetches some results, the users get an option to submit notes for that particular keyword. In addition, users will be able to retrieve notes for a keyword using a separate ‘Get Notes’ button.
For the back-end part of the application, I will employ AWS EC2 virtual machine running Ubuntu version 16.04 with 1 vCPU, 1 GB of RAM, and 20 GBs of SSD general purpose storage. This machine is used to deploy three services where first creates a search log entry for each search query made from the front end, second searches the keyword in the database and then responds with the results, and third provides notes submission and retrieval support. The back-end of the application follows microservice architecture where all the services are loosely coupled and work in isolation. These services can interact with other services through simple APIs. In my case, I will use fourth service called ‘Services’ which will forward all the requests from client to one of the other three services. Only the ‘Services’ service will be connected with the front-end client. “Log” service will receive search request from “Services” and will maintain a “log.txt” file where the time of search request and the searched keyword will be stored. “Catalogue” service will receive request from “Log” service and will look for the queried keyword in the database. If successful, it will store the matched documents in “catalogue.txt” file and will pass the result to the “Services” service to show on browser. “Notes” service will contain two endpoints namely /get_notes and /add_note. Here, /add_note will add the note for a respective keyword into the “notes.txt” file in json format whereas /get_notes will read the txt file and return the already added notes to the “Services” service. All these services should run independently on individual Docker containers. Doing so, they will share a common operating system kernel of only one machine which is EC2 instance in this case. Running a docker container basically spins up a new virtual machine with a defined machine image using Dockerfile and with a set of dependencies required for that particular service to run. In this way, an isolated environment is created for the service and therefore, the container running the respective service can be moved to another machine without the need of installing the dependencies again. The requests and the response to and from these services will be based on HTTP protocol. The API requests will be distinguished using different endpoints implemented using Python Flask library.
To create the database for the application, I will extract the Gutenberg Dataset consisting of book titles and authors for years starting from 1996 to 2020. After downloading all files into the local system, I will have to pre-process the file data removing all the unwanted strings and characters from the text. As per the requirement, I have to extract data only for English language books. For this, I will write a python program and use re (Python regex package) to generate regular expression patterns for text cleaning. Finally, the cleaned and processed data will be stored in MongoDB database in the form of documents. The main advantage of using MongoDB database is that it provides a schema-less storage and uses in-memory caching for faster data retrieval. MongoDB database will store a collection of titles and authors of all English books along with a collection of files processing start and end times. As per the requirement, the data files need to be processed in an interval of five minutes.
